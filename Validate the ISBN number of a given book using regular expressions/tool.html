<h3>Name: Aman Srivastava</h3>
<h3>Roll No.: 20BCE10873</h3>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Experiment 4</title>
  </head>

  <body align="center">
    <h4 align="center">Experiment 4</h4>
    <p align="center">
      Validate the ISBN number of a given book using regular expressions
    </p>
    <p>PUT ISBN number:</p>

    <input type="text" id="isbn" name="isbn" /><br />

    <br />

    <button onclick="validate()">Validate ISBN</button>

    <h2>ISBN validate</h2>
    <script type="text/javascript">
      var isValidIsbn = function (isbn_num) {
        var sum, weight, digit, check, i;
        var str = isbn_num.toString().replace(/[^0-9X]/gi, "");
        console.log(str);

        if (str.length != 10 && str.length != 13) {
          return false;
        }

        if (str.length == 13) {
          sum = 0;

          for (i = 0; i < 12; i++) {
            digit = parseInt(str[i]);
            if (i % 2 == 1) {
              sum += 3 * digit;
            } else {
              sum += digit;
            }
          }

          check = (10 - (sum % 10)) % 10;
          return check == str[str.length - 1];
        }

        if (str.length == 10) {
          weight = 10;

          sum = 0;

          for (i = 0; i < 9; i++) {
            digit = parseInt(str[i]);
            sum += weight * digit;
            weight--;
          }

          check = (11 - (sum % 11)) % 11;
          if (check == 10) {
            ("X");
          }
          return check == str[str.length - 1].toUpperCase();
        }
      };
      function validate() {
        var isbn_num = document.getElementById("isbn").value;
        console.log(isValidIsbn(isbn_num));
        alert(isValidIsbn(isbn_num));
      }
    </script>
  </body>
</html>
